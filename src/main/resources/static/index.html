<html>
<head>
    <title>Today's Feelings</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/index.css" type="text/css"/>
</head>

<body>
<div id="wrap">
<div class="container" ng-app="moodScrape" ng-controller="moodScrapeCtrl">
    <div class="btn-group mood-buttons form-group" role="group" data-toggle="buttons">
        <button class="btn btn-default" style="background-color: green;     {{ feeling == 'HAPPY'? 'opacity: 0.8' : '' }}"      ng-click="feeling='HAPPY'" title="Happy">
            <object class="svg-btn" type="image/svg+xml" data="/svg/132273-emotions-assets/happy-5.svg"></object>
        </button>
        <button class="btn btn-default" style="background-color: lime;      {{ feeling == 'NORMAL'? 'opacity: 0.8' : '' }}"     ng-click="feeling='NORMAL'" title="Normal">
            <object class="svg-btn" type="image/svg+xml" data="/svg/132273-emotions-assets/happy-4.svg"></object>
        </button>
        <button class="btn btn-default" style="background-color: yellow;    {{ feeling == 'BIT_MEH'? 'opacity: 0.8' : '' }}"    ng-click="feeling='BIT_MEH'" title="A bit meh">
            <object class="svg-btn" type="image/svg+xml" data="/svg/132273-emotions-assets/calm.svg"></object>
        </button>
        <button class="btn btn-default" style="background-color: orange;    {{ feeling == 'GRUMPY'? 'opacity: 0.8' : '' }}"     ng-click="feeling='GRUMPY'" title="Grumpy">
            <object class="svg-btn" type="image/svg+xml" data="/svg/132273-emotions-assets/nervous.svg"></object>
        </button>
        <button class="btn btn-default" style="background-color: red;       {{ feeling == 'STRESSED'? 'opacity: 0.8' : '' }}"   ng-click="feeling='STRESSED'" title="Stressed out">
            <object class="svg-btn" type="image/svg+xml" data="/svg/132273-emotions-assets/sad-8.svg"></object>
        </button>
    </div>

    <div class="form-group">
        <textarea class="form-control" id="mood-comments" ng-model="comment" rows="4" placeholder="Any Comments?" ng-maxlength=""></textarea>
    </div>

    <div class="btn btn-primary pull-right done-btn" ng-click="addNewMood()">OK</div>

    <div>{{ comment }}</div>
    <div>{{ feeling }}</div>
</div>

<div class="container">
    This is where we will have the averages
</div>
</div>

<footer id="footer">
    <div class="container text-center">
        Icons designed by <a href="https://www.flaticon.com/authors/baianat" target="_blank">Baianat</a> from Flaticon
    </div>
</footer>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.4/angular.min.js"></script>
</body>

<script>
var app = angular.module('moodScrape', []);

app.service('moodService', function($http) {
    this.add = function(mood) {
        return $http.post("mood/add", JSON.stringify(mood));
    }

    this.getAllForToday = function() {
        return $http.get("mood/allForToday");
    }
})

app.controller('moodScrapeCtrl', function($scope, $http) {
    $scope.moodComments = "";
    $scope.feeling = "BIT_MEH";

    $scope.addNewMood = function() {
        console.log("adding mood")
        $http.get("mood/allForToday").then(function(response){
            console.log(response);
        })

    }
});



</script>
</html>
